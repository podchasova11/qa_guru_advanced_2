### qa_guru_advanced_2

## Построение минимального микросервиса с FastAPI и тестирование

### Методы реализации:

- Загрузка файла `users.json` в память сервера.
- Валидация данных из файла при запуске сервера с использованием `uvicorn`.
- Обработка исключений через `HTTPException`.
- Учет различных типов исключений с помощью `HTTPException`.
- Хранение чувствительных данных в файле `.env`.
- Параметризация тестов с помощью `@pytest.mark.parametrize()`.
- Тестирование доступности сервера через модель `app_status`, устанавливающую флаг наличия базы данных.
- Использование библиотеки `fastapi-pagination` для базовой пагинации в эндпоинтах.  
  [fastapi-pagination](https://github.com/uriyyo/fastapi-pagination)

## Задание:

1. Увеличить тестовое покрытие с помощью smoke тестов для проверки доступности микросервиса.
2. Добавить сервисный эндпоинт `/status` для проверки статуса микросервиса.
3. Использовать библиотеку `fastapi-pagination` для реализации базовой пагинации в эндпоинтах, возвращающих список объектов.
4. Добавить тесты на пагинацию, обеспечив достаточное количество тестовых данных (не менее 10).
5. Проверить:
    - ожидаемое количество объектов в ответе;
    - правильное количество страниц при разных значениях параметра `size`;
    - корректность данных при различных значениях параметра `page`.

## Предварительные условия:

Перед началом работы убедитесь, что у вас установлено следующее:

- Python 3.10 или выше.
- `pip` для управления пакетами.
- `uvicorn` для запуска сервера FastAPI.
- `pytest` для запуска тестов.
- `fastapi-pagination` для реализации пагинации.

Вы можете установить необходимые пакеты с помощью команды:

```bash
pip install fastapi uvicorn pytest fastapi-pagination requests
```

## Как запустить сервер FastAPI:

Чтобы запустить сервер FastAPI с использованием `uvicorn`, выполните команду:

```bash
uvicorn app.main:app --reload 
```

Также доступна возможность использования SWAGGER. Для этого введите в адресной строке браузера:

```
http://127.0.0.1:8000/docs
```

## Как запускать тесты:

Чтобы запустить API тесты, используйте следующую команду:

```bash
pytest
```
